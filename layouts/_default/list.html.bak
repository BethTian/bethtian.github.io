{{/* layouts/_default/list.html
   简单的 list 模板，会包含 climb_sidebar partial（仅当 Section == "posts" 时）。
   这个模板使用 Hugo 的 Paginate，渲染每页文章。
   如果你的主题已经定义了更复杂的 list.html，这个文件会覆盖主题的 list 页面。
*/}}

{{ define "main" }}
<main id="main" class="content" role="main" aria-label="Content">

  {{/* 只有在 posts section 时才加载侧边动画 partial */}}
  {{ if eq .Section "posts" }}
    {{ partial "climb_sidebar.html" . }}
  {{ end }}

  <section class="post-list">
    {{/* 使用 paginator：适配大多数 Hugo 站点 */}}
    {{ $paginator := .Paginate (where .Pages "Type" "post") }}
    {{ range $paginator.Pages }}
      <article class="post" id="post-{{ .File.BaseFileName }}">
        <div class="anchor-dot" aria-hidden="true"></div>
        <h2 class="post-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        <p class="post-summary">{{ .Summary }}</p>
      </article>
    {{ end }}

    {{/* 内建分页模板（若主题无提供，可删除或换成你主题的分页） */}}
    <nav class="pagination" aria-label="Pagination">
      {{ template "_internal/pagination.html" . }}
    </nav>
  </section>

</main>
{{ end }}

{{/* 如果你的 baseof.html 没有调用 block "main"，可以把整个上面部分直接放在文件顶层（不包 define），
   但大多数主题（包括 PaperMod）会用 baseof.html + block "main"。 */}}
